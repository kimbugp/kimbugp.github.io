/*!
 * Kimbugwe Simon -  v1.0.0 (https://github.com/kimbugp/kimbugp.github.io#readme)
 * Copyright 2019-2020 kimbugwe simon peter
 * Licensed under MIT (https://github.com/kimbugp/kimbugp.github.io/blob/master/LICENSE)
 */

(function(a){"use strict";a("form.contactForm").submit(function(){var b=a(this).find(".form-group"),c=!1,d=/^[^\s()<>@,;:\/]+@\w[\w\.-]+\.[a-z]{2,}$/i,e={name:"",email:"",subject:"",message:""};if(b.children("input").each(function(){var b=a(this),e=b.attr("data-rule");if(void 0!==e){var f=!1,g=e.indexOf(":",0);if(0<=g){var h=e.substr(g+1,e.length);e=e.substr(0,g)}else e=e.substr(g+1,e.length);"required"===e?""===b.val()&&(c=f=!0):"minlen"===e?b.val().length<parseInt(h)&&(c=f=!0):"email"===e?d.test(b.val())||(c=f=!0):"checked"===e?b.is(":checked")||(c=f=!0):"regexp"===e?(h=new RegExp(h),h.test(b.val())||(c=f=!0)):void 0,b.next(".validation").html(f?void 0===b.attr("data-msg")?"wrong Input":b.attr("data-msg"):"").show("blind")}}),b.children("textarea").each(function(){var b=a(this),d=b.attr("data-rule");if(void 0!==d){var e=!1,f=d.indexOf(":",0);if(0<=f){var g=d.substr(f+1,d.length);d=d.substr(0,f)}else d=d.substr(f+1,d.length);"required"===d?""===b.val()&&(c=e=!0):"minlen"===d?b.val().length<parseInt(g)&&(c=e=!0):void 0,b.next(".validation").html(e?null==b.attr("data-msg")?"wrong Input":b.attr("data-msg"):"").show("blind")}}),c)return!1;var f=a(this).serialize(),g=a(this).attr("action");return g||(g="contactform.php"),b.children("input").each(function(){var b=a(this);e[b.attr("name")]=b.val()}),e.message=b.children("textarea").val(),Email.send({Host:"smtp.gmail.com",Username:"kimbugwesmtp@gmail.com",Password:"thizsaitrtibhtkd",To:"kimbsimon2@gmail.com",From:e.email,Subject:e.subject,Body:`From: ${e.name} <br />${e.message}`}).then(b=>{"OK"==b?(a("#sendmessage").addClass("show"),a("#errormessage").removeClass("show"),a(".contactForm").find("input, textarea").val("")):(a("#sendmessage").removeClass("show"),a("#errormessage").addClass("show"),a("#errormessage").html(b))}),!1})})(jQuery);